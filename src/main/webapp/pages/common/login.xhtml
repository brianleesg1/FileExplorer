<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <!-- <meta http-equiv="refresh" content="15"/>     -->
    <title>Login</title>

    <h:outputScript library="primefaces" name="jquery/jquery.js" />

    <script>
        $(document).ready(function () {
            function centerThis(div) {
                var winH = $(window).innerHeight();
                var winW = $(window).innerWidth();
                var centerDiv = $('#' + div);
                centerDiv.css('position','absolute')
                centerDiv.css('top', winH/2-centerDiv.height()/2);
                centerDiv.css('left', winW/2-centerDiv.width()/2);
            }
            console.log("ready");
            centerThis('loginPanel');

        });
    </script>
</h:head>


<h:body>
    <f:facet name="last">
    <h:outputStylesheet name="common-style.css" library="css"/>
    </f:facet>


    <div style="width:100%;height:100%">
    <div id="loginPanel">
    <f:view>

    <h:form id="loginForm" prependId="false"> <!-- prependId='false' in order for spring security login to work -->

    <h:panelGrid style="width: 400px">
        <p:messages globalOnly="false" showDetail="false"/>
    </h:panelGrid>

    <p:panel header="Login">
        <h:panelGrid columns="2">
            <p:outputLabel id="usernameLabel" for="j_username" value="#{msg.user}: " />
            <p:inputText id="j_username" value="#{loginBean.j_username}"/>

        <!-- <h:message for="j_username" showSummary="true" showDetail="false" />  -->

            <p:outputLabel id="passwordLabel" for="j_password" value="#{msg.password}: " />
            <p:password id="j_password" value="#{loginBean.j_password}"/>

        <!-- <h:message for="j_password" showSummary="true" showDetail="false" />  -->

            <p:outputLabel id="rememberMeLabel" for="storeUser" value="Remember me " />
            <p:selectBooleanCheckbox id="storeUser" />
        </h:panelGrid>
        <f:facet name="footer">
            <p:commandButton type="submit" ajax="false" id="login" actionListener="#{loginBean.loginAction}" value="Login" />
        </f:facet>
    </p:panel>
    </h:form>

    </f:view>

    </div>
    </div>
</h:body>


</html>